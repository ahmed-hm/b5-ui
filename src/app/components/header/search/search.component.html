<div id="search">
  <!-- categories dropdown -->
  <div class="categories-dropdown">
    <div class="dropdown-toggle" #dropdownToggle (click)="toggleDropdown()">
      <span class="text-ellipsis">{{ (selectedCategory$ | async) || 'All Categories' }}</span>
      <img src="assets/icons/caret.svg" alt="open dropdown" />
    </div>
    <ul class="dropdown-menu" *ngIf="isDroppedDown" #dropdownMenu>
      <li (click)="filterByCategory('')" [class.selected]="!(selectedCategory$ | async)">All Categories</li>
      <li
        (click)="filterByCategory(category)"
        [class.selected]="(selectedCategory$ | async) === category"
        *ngFor="let category of categories$ | async"
      >
        {{ category }}
      </li>
    </ul>
  </div>

  <!-- search input -->
  <div class="search-input">
    <input
      type="text"
      placeholder="Search Products, categories ..."
      (input)="onSearch($event)"
      [value]="(searchTerm$ | async) || ''"
    />
    <img src="assets/icons/search.svg" alt="search" />
  </div>
</div>
